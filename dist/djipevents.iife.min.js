var djipevents=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var r=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t(this,e),this.map={},this.suspended=1==n}return i(e,[{key:"addListener",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof t&&!(t instanceof String)&&t!==e.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if("function"!=typeof n)throw new TypeError("The callback must be a function.");var r={context:this,remaining:1/0,data:void 0,duration:1/0,prepend:!1};i=Object.assign({},r,i);var s=new a(t,this,n,i);return i.duration!==1/0&&setTimeout(function(){return s.remove()},i.duration),this.map[t]||(this.map[t]=[]),i.prepend?this.map[t].unshift(s):this.map[t].push(s),s}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.addListener(e,t,n)}},{key:"once",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.remaining=1,this.on(e,t,n)}},{key:"hasListener",value:function(e){return!!(this.map[e]&&this.map[e].length>0)}},{key:"getListeners",value:function(e){return this.map[e]||[]}},{key:"suspend",value:function(e){this.getListeners(e).forEach(function(e){e.suspended=!0})}},{key:"unsuspend",value:function(e){this.getListeners(e).forEach(function(e){e.suspended=!1})}},{key:"getListenerCount",value:function(e){return this.getListeners(e).length}},{key:"emit",value:function(t,n){if("string"!=typeof t&&!(t instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(!this.suspended){var i=[],r=this.map[e.ANY_EVENT]||[];return this.map[t]&&(r=r.concat(this.map[t])),r.forEach(function(e){e.suspended||(e.remaining>0&&(void 0!==n?i.push(e.callback.call(e.context,n,e.data)):i.push(e.callback.call(e.context,e.data)),e.count++),--e.remaining<1&&e.remove())}),i}}},{key:"removeListener",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e){if(this.map[e]){var i=this.map[e].filter(function(e){return t&&e.callback!==t||n.remaining&&n.remaining!==e.remaining||n.context&&n.context!==e.context});i.length?this.map[e]=i:delete this.map[e]}}else this.map={}}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.removeListener(e,t,n)}},{key:"eventNames",get:function(){return Object.keys(this.map)}},{key:"eventCount",get:function(){return Object.keys(this.map).length}}],[{key:"ANY_EVENT",get:function(){return Symbol.for("Any event")}}]),e}(),a=function(){function e(n,i,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t(this,e),"string"!=typeof n&&!(n instanceof String)&&n!==r.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!i)throw new ReferenceError("The 'target' parameter is mandatory.");if("function"!=typeof a)throw new TypeError("The 'callback' must be a function.");var o={context:this,remaining:1/0,data:void 0};s=Object.assign({},o,s),this.event=n,this.target=i,this.callback=a,this.context=s.context,this.remaining=parseInt(s.remaining)>=1?parseInt(s.remaining):1/0,this.count=0,this.data=s.data,this.suspended=!1}return i(e,[{key:"remove",value:function(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}]),e}();return e.EventEmitter=r,e.Listener=a,e}({});
//# sourceMappingURL=djipevents.iife.min.js.map
